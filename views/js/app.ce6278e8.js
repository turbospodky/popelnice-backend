(function(t){function e(e){for(var A,s,i=e[0],o=e[1],c=e[2],u=0,d=[];u<i.length;u++)s=i[u],Object.prototype.hasOwnProperty.call(r,s)&&r[s]&&d.push(r[s][0]),r[s]=0;for(A in o)Object.prototype.hasOwnProperty.call(o,A)&&(t[A]=o[A]);l&&l(e);while(d.length)d.shift()();return a.push.apply(a,c||[]),n()}function n(){for(var t,e=0;e<a.length;e++){for(var n=a[e],A=!0,i=1;i<n.length;i++){var o=n[i];0!==r[o]&&(A=!1)}A&&(a.splice(e--,1),t=s(s.s=n[0]))}return t}var A={},r={app:0},a=[];function s(e){if(A[e])return A[e].exports;var n=A[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.m=t,s.c=A,s.d=function(t,e,n){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var A in t)s.d(n,A,function(e){return t[e]}.bind(null,A));return n},s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],o=i.push.bind(i);i.push=e,i=i.slice();for(var c=0;c<i.length;c++)e(i[c]);var l=o;a.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"034f":function(t,e,n){"use strict";n("85ec")},"072b":function(t,e){t.exports="data:image/png;base64,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"},"07d0":function(t,e){t.exports="data:image/png;base64,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"},"0a61":function(t,e,n){},"0aca":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAgAAAADwCAYAAAB2ddzKAAAACXBIWXMAAAsTAAALEwEAmpwYAAAE7WlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4gPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNi4wLWMwMDIgNzkuMTY0MzYwLCAyMDIwLzAyLzEzLTAxOjA3OjIyICAgICAgICAiPiA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPiA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIgeG1sbnM6cGhvdG9zaG9wPSJodHRwOi8vbnMuYWRvYmUuY29tL3Bob3Rvc2hvcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RFdnQ9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZUV2ZW50IyIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgMjEuMSAoV2luZG93cykiIHhtcDpDcmVhdGVEYXRlPSIyMDIxLTAyLTAxVDExOjQ1OjAxKzAxOjAwIiB4bXA6TW9kaWZ5RGF0ZT0iMjAyMS0wMi0wMVQxNjo0MzowNyswMTowMCIgeG1wOk1ldGFkYXRhRGF0ZT0iMjAyMS0wMi0wMVQxNjo0MzowNyswMTowMCIgZGM6Zm9ybWF0PSJpbWFnZS9wbmciIHBob3Rvc2hvcDpDb2xvck1vZGU9IjMiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6YjhhNjYzOWYtZmY1ZS1jYTQ3LTllNWEtMmExZTkzNmVmYmQ3IiB4bXBNTTpEb2N1bWVudElEPSJ4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"},1182:function(t,e,n){},"153a":function(t,e,n){t.exports=n.p+"img/map.f070941f.png"},1579:function(t,e,n){t.exports=n.p+"img/waste_paper.0bded851.png"},"17e4":function(t,e,n){"use strict";n("b5b2")},1872:function(t,e,n){"use strict";n("8161")},"1fca":function(t,e,n){"use strict";n("0a61")},"21fe":function(t,e,n){t.exports=n.p+"img/stats.619f9da6.png"},"297d":function(t,e,n){t.exports=n.p+"img/home.f022f546.png"},"2cd1":function(t,e,n){"use strict";n("8c93")},"31ee":function(t,e,n){t.exports=n.p+"img/waste_plastic.11a5d939.png"},"327c":function(t,e,n){},"32d4":function(t,e,n){t.exports=n.p+"img/administration.079a034d.png"},"34ba":function(t,e,n){"use strict";n("1182")},"3c61":function(t,e,n){"use strict";n("eae3")},"56d7":function(t,e,n){"use strict";n.r(e);n("d3b7"),n("e260"),n("e6cf"),n("cca6"),n("a79d");var A=n("2b0e"),r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("router-view",{attrs:{wasteTypes:this.$root.wasteTypes,sites:this.$root.sites}})],1)},a=[],s={name:"App"},i=s,o=(n("034f"),n("2877")),c=Object(o["a"])(i,r,a,!1,null,null,null),l=c.exports,u=n("755e"),d=n("8c4f"),g=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"statsPage"},[n("div",{staticClass:"pageContent"},[n("h1",[t._v("statistiky")]),n("SideBar",{attrs:{sites:t.sites}}),n("div",{staticClass:"card"},[n("h2",[t._v("průměrná doba naplnění kontejneru")]),t.ready?n("DropDownMenu",{attrs:{dropDownKey:"avgFillTime_site",title:"zahrnout stanoviště: ",options:t.siteDropDownOptions},on:{dropDownChanged:function(e){return t.updateDropDownChosenValues(e)}}}):t._e(),n("DropDownMenu",{attrs:{dropDownKey:"avgFillTime_time",title:"za: ",options:t.timeDropDownOptions},on:{dropDownChanged:function(e){return t.updateDropDownChosenValues(e)}}}),n("br"),n("canvas",{attrs:{id:"fillTimeGraph"}})],1)],1)])},p=[],f=(n("d81d"),n("b0c0"),n("96cf"),n("1da1")),h=n("d549"),m=n("bc3a"),B=n.n(m),v=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("aside",{staticClass:"SideBar"},[n("div",{staticClass:"logout",on:{click:function(e){return t.logOut()}}},[n("img",{attrs:{src:t.logoutIcon,alt:""}}),n("span",[t._v("odhlásit se")])]),n("NavBar"),n("h2",[t._v("stanoviště:")]),n("div",{staticClass:"sitesList"},[t._l(t.sites,(function(t){return n("SiteCard",{key:t.id,attrs:{site:t}})})),t._m(0)],2)],1)},C=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"credits"},[n("div",[t._v("Icons made by "),n("a",{attrs:{href:"https://www.freepik.com",title:"Freepik"}},[t._v("Freepik")]),t._v(" and "),n("a",{attrs:{href:"https://www.flaticon.com/authors/gregor-cresnar",title:"Gregor Cresnar"}},[t._v("Gregor Cresnar")]),t._v(" from "),n("a",{attrs:{href:"https://www.flaticon.com/",title:"Flaticon"}},[t._v("www.flaticon.com")])])])}],w=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("router-link",{staticClass:"SiteCard",style:"order: "+t.order,attrs:{to:"site"}},[n("div",{staticClass:"card",style:"background-color: "+t.cardBackgroundColor,on:{click:t.setCurrentSiteView}},[n("h3",[t._v(t._s(t.site.name))]),n("div",{staticClass:"warningMessagesList"},t._l(t.warningMessages,(function(t){return n("WarningMessage",{key:t.key,attrs:{message:t}})})),1),n("div",{staticClass:"containerList"},t._l(t.site.containers,(function(t){return n("SiteCardContainerStatus",{key:t.id,attrs:{containerData:t}})})),1)])])},E=[],b=(n("cb29"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"SiteCardContainerStatus"},[n("img",{attrs:{src:t.wasteIcon,alt:""}}),n("ProgressBar",{attrs:{fillPercentage:t.containerData.fill}}),t.containerData.baterry<.5?n("img",{attrs:{src:t.baterryIcon,alt:""}}):t._e()],1)}),y=[],I=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"ProgressBar"},[n("div",{staticClass:"bar"},[n("div",{staticClass:"fillament",style:"width: "+100*t.fillPercentage+"%; background-color: "+t.getFillamentColor()})])])},Q=[],D=n("a77f"),k={name:"ProgressBar",props:["fillPercentage"],methods:{getFillamentColor:function(){return this.fillPercentage>=D.fill.veryFull?"red":this.fillPercentage>=D.fill.prettyFull?"orange":"limegreen"}}},S=k,M=(n("aa09"),Object(o["a"])(S,I,Q,!1,null,null,null)),x=M.exports,T=n("1579"),j=n.n(T),O=n("31ee"),G=n.n(O),R=n("cab8"),P=n.n(R),N=n("07d0"),H=n.n(N),W=n("0aca"),Y=n.n(W),J=n("072b"),Z=n.n(J),z={name:"SiteCardContainerStatus",components:{ProgressBar:x},props:["containerData"],data:function(){return{wasteIcons:{paper:j.a,plastic:G.a,glass:P.a}}},computed:{wasteIcon:function(){return this.wasteIcons[this.containerData.type]},baterryIcon:function(){var t=this.containerData.baterry;return t>=D.baterry.green?H.a:t>=D.baterry.orange?Y.a:Z.a}}},L=z,V=(n("9635"),Object(o["a"])(L,b,y,!1,null,null,null)),X=V.exports,_=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"WarningMessage"},[n("span",[n("b",[t._v(t._s(t.message))])])])},F=[],U={name:"WarningMessage",props:["message"]},K=U,q=(n("1fca"),Object(o["a"])(K,_,F,!1,null,"9637bd28",null)),$=q.exports,tt={name:"SiteCard",components:{SiteCardContainerStatus:X,WarningMessage:$},props:["site"],methods:{setCurrentSiteView:function(){this.$store.commit("setCurrentSiteView",this.site.id)}},computed:{order:function(){return this.blockedContainers.length>0||this.deadContainers.length>0?0:this.hasAnyRedContainers?1:this.hasOrangeBaterry?2:this.hasAnyOrangeContainers?3:4},cardBackgroundColor:function(){return this.blockedContainers.length>0||this.deadContainers.length>0||this.lowBaterryContainers.length>0?"rgb(255, 165, 170);":"white"},warningMessages:function(){for(var t=[],e=0;e<this.blockedContainers.length;e++)t.push("kontejner na "+this.site.containers[this.blockedContainers[e]].typeName+" je zablokovaný");for(var n=0;n<this.lowBaterryContainers.length;n++)t.push("kontejner na "+this.site.containers[this.lowBaterryContainers[n]].typeName+" potřebuje dobít baterii");for(var A=0;A<this.deadContainers.length;A++){var r=this.site.containers[this.deadContainers[A]];t.push("kontejner na "+r.typeName+" neodpovídá už "+Math.round(r.daysSinceUpdated)+" dní")}return t},hasAnyRedContainers:function(){for(var t=0;t<this.site.containers.length;t++)if(this.site.containers[t].fill>=D.fill.veryFull)return!0;return!1},hasAnyOrangeContainers:function(){for(var t=0;t<this.site.containers.length;t++)if(this.site.containers[t].fill>=D.fill.prettyFull)return!0;return!1},hasOrangeBaterry:function(){for(var t=0;t<this.site.containers.length;t++)if(this.site.containers[t].baterry<D.baterry.green)return!0;return!1},blockedContainers:function(){for(var t=[],e=0;e<this.site.containers.length;e++)this.site.containers[e].blocked&&t.push(e);return t},lowBaterryContainers:function(){for(var t=[],e=0;e<this.site.containers.length;e++)this.site.containers[e].baterry<D.baterry.orange&&t.push(e);return t},deadContainers:function(){for(var t=[],e=0;e<this.site.containers.length;e++)this.site.containers[e].daysSinceUpdated>=D.daysToConsiderAContainerDead&&t.push(e);return t}}},et=tt,nt=(n("e215"),Object(o["a"])(et,w,E,!1,null,null,null)),At=nt.exports,rt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("nav",{staticClass:"navContainer"},[t.isAdmin?n("NavItem",{attrs:{link:"/admin",icon:t.icons.administration}}):t._e(),n("NavItem",{attrs:{link:"/stats",icon:t.icons.stats}}),n("NavItem",{attrs:{link:"/map",icon:t.icons.map}})],1)},at=[],st=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("router-link",{staticClass:"navItem",attrs:{to:t.link}},[n("div",{staticClass:"navCard"},[n("img",{staticClass:"navIcon",attrs:{src:t.icon}})])])},it=[],ot={name:"NavBarItem",props:["link","icon"]},ct=ot,lt=(n("bfbc"),Object(o["a"])(ct,st,it,!1,null,null,null)),ut=lt.exports,dt=n("297d"),gt=n.n(dt),pt=n("21fe"),ft=n.n(pt),ht=n("153a"),mt=n.n(ht),Bt=n("32d4"),vt=n.n(Bt),Ct={name:"NavBar",components:{NavItem:ut},data:function(){return{icons:{home:gt.a,stats:ft.a,map:mt.a,administration:vt.a}}},computed:{isAdmin:function(){return this.$store.state.user.isAdmin}}},wt=Ct,Et=(n("34ba"),Object(o["a"])(wt,rt,at,!1,null,null,null)),bt=Et.exports,yt=n("9678"),It=n.n(yt),Qt={name:"SideBar",components:{SiteCard:At,NavBar:bt},props:["sites"],data:function(){return{logoutIcon:It.a}},methods:{logOut:function(){this.$store.dispatch("logOut"),this.$router.push("/")}}},Dt=Qt,kt=(n("1872"),Object(o["a"])(Dt,v,C,!1,null,null,null)),St=kt.exports,Mt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"DropDown"},[n("label",[t._v(t._s(t.title))]),n("div",{staticClass:"options"},[n("button",{on:{click:function(e){t.opened=!t.opened}}},[t._v(t._s(t.options[t.selectedOption].name))]),t.opened?n("ul",t._l(t.options,(function(e){return n("li",{key:e.key,on:{click:function(n){return t.chooseOption(e)}}},[t._v(t._s(e.name))])})),0):t._e()])])},xt=[],Tt={name:"DropDown",props:["title","dropDownKey","options"],data:function(){return{opened:!1,selectedOption:0}},computed:{value:function(){return this.options[this.selectedOption].value}},mounted:function(){this.$emit("dropDownChanged",{dropDownKey:this.dropDownKey,value:this.value,initial:!0})},methods:{chooseOption:function(t){for(var e=this.selectedOption,n=0;n<this.options.length;n++)this.options[n].name==t.name&&(this.selectedOption=n);this.opened=!1,e!=this.selectedOption&&this.$emit("dropDownChanged",{dropDownKey:this.dropDownKey,value:this.value,initial:!1})}}},jt=Tt,Ot=(n("5da1"),Object(o["a"])(jt,Mt,xt,!1,null,"5fd45f0f",null)),Gt=Ot.exports,Rt={name:"Stats",components:{SideBar:St,DropDownMenu:Gt},props:["sessionInfo","sites"],data:function(){return{ready:!1,timeDropDownOptions:[{name:"poslední rok",value:365},{name:"poslední 3 měsíce",value:90},{name:"poslední měsíc",value:30},{name:"celá doba",value:0}],dropDowns:[{key:"avgFillTime_site",value:null,ready:!1},{key:"avgFillTime_time",value:null,ready:!1}],fillTimeGraph:null,fillTimeGraphData:[]}},computed:{allDropDownsReady:function(){for(var t=0;t<this.dropDowns.length;t++)if(!this.dropDowns[t].ready)return!1;return!0},wasteTypes:function(){return this.$root.wasteTypes.map((function(t){var e,n;switch(t.type){case"plastic":e="rgba(255, 200, 0, 0.4)",n="rgba(255, 200, 0, 1)";break;case"paper":e="rgba(0, 0, 255, 0.4)",n="rgba(0, 0, 255, 1)";break;case"glass":e="rgba(0, 255, 0, 0.4)",n="rgba(0, 200, 0, 1)";break}return{id:t.id,name:t.name,backgroundColor:e,borderColor:n}}))},siteDropDownOptions:function(){var t=[];t[0]={name:"všechna stanoviště",value:[]};for(var e=0;e<this.$root.sites.length;e++){var n=this.$root.sites[e].name,A=this.$root.sites[e].id;t.push({name:n,value:A}),t[0].value.push(A)}return t},dropDownValues:function(){for(var t={},e=0;e<this.dropDowns.length;e++)t[this.dropDowns[e].key]=this.dropDowns[e].value;return t}},beforeCreate:function(){var t=this;return Object(f["a"])(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=!1,e.next=3,t.$store.dispatch("verifyCurrentUser").then((function(){n=!0})).catch((function(e){console.log("error: "+e),3!=e?t.$router.push("/"):t.$router.push("/error")}));case 3:if(!n){e.next=7;break}return e.next=6,t.$root.getTownData();case 6:t.ready=!0;case 7:case"end":return e.stop()}}),e)})))()},mounted:function(){},methods:{updateDropDownChosenValues:function(t){for(var e=this,n=null,A=0;A<this.dropDowns.length;A++)if(this.dropDowns[A].key==t.dropDownKey){n=A;break}if(null!==n){var r=t.value;this.dropDowns[n].value=r,this.dropDowns[n].ready=!0,this.allDropDownsReady&&this.ready&&B.a.post(D.backendHost+"/averageFillTimePerType",{token:localStorage.token,sites:this.dropDownValues.avgFillTime_site,time:this.dropDownValues.avgFillTime_time}).then((function(t){e.fillTimeGraphData=t.data,e.drawFillTimeGraph()})).catch((function(t){console.log(t)}))}},drawFillTimeGraph:function(){for(var t=document.getElementById("fillTimeGraph").getContext("2d"),e=[],n=[],A=0;A<this.wasteTypes.length;A++){n.push(this.wasteTypes[A].name);for(var r=0;r<this.fillTimeGraphData.length;r++)if(this.fillTimeGraphData[r].typeId==this.wasteTypes[A].id){e.push(Math.round(10*this.fillTimeGraphData[r].daysToFill)/10);break}}var a=this.wasteTypes.map((function(t){return t.backgroundColor})),s=this.wasteTypes.map((function(t){return t.borderColor}));null!==this.fillTimeGraph&&this.fillTimeGraph.destroy(),this.fillTimeGraph=new h["a"](t,{type:"bar",data:{labels:n,datasets:[{data:e,backgroundColor:a,borderColor:s,borderWidth:3}]},options:{maintainAspectRatio:!1,responsive:!0,title:{display:!1},plugins:{legend:{display:!1}},scales:{y:{title:{display:!0,text:"dny",font:{size:17}},ticks:{suggestedMin:0}},x:{title:{display:!0,text:"typ odpadu",font:{size:17}},grid:{display:!1}}}}}),this.graphDrewAlready=!0}}},Pt=Rt,Nt=(n("8672"),Object(o["a"])(Pt,g,p,!1,null,"6a2ea6a4",null)),Ht=Nt.exports,Wt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"Site"},[n("SideBar",{attrs:{sites:t.sites}}),t.ready?n("div",{staticClass:"pageContent"},[n("h1",[t._v(t._s(t.site.name))]),n("div",{staticClass:"sectionLeft"},[n("div",{staticClass:"scrollableSection"},t._l(t.site.containers,(function(e){return n("ContainerCard",{key:e.id,attrs:{wasteTypes:t.wasteTypes,container:e}})})),1)]),n("div",{staticClass:"sectionRight"},[n("GoogleMap",{attrs:{displayPinsOnly:!0,ready:t.ready,sites:[t.site]}})],1)]):t._e()],1)},Yt=[],Jt=(n("ac1f"),n("3ca3"),n("841c"),n("ddb0"),n("2b3d"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"ContainerCard",style:"order: "+t.order},[n("div",{staticClass:"card",style:"background-color: "+t.cardBackgroundColor},[n("h3",[t._v(t._s(t.getWasteTypeName()))]),n("div",{staticClass:"warningMessagesList"},t._l(t.warningMessages,(function(t){return n("WarningMessage",{key:t.key,attrs:{message:t}})})),1),n("div",{staticClass:"cardBottomSection"},[n("canvas",{staticClass:"graph",attrs:{id:"container_"+t.container.id}}),n("div",{staticClass:"rightSection"},[n("div",[n("span",[t._v(t._s(Math.round(100*t.container.fill)+"%"))])]),n("img",{attrs:{src:t.baterryIcon}})])])])])}),Zt=[];n("4160"),n("159b");function zt(t){return fetch(D.backendHost+"/"+t).then((function(t){return!!t.ok&&t.json()})).then((function(t){return t}))}var Lt=zt;function Vt(t,e){return Lt("getRecords/"+t+"/days/"+e)}var Xt=Vt,_t={name:"ContainerCard",components:{WarningMessage:$},props:["container","wasteTypes"],data:function(){return{containerHistory:[{date:"1. 1.",fill:.2},{date:"2. 1.",fill:.25},{date:"3. 1.",fill:.28},{date:"4. 1.",fill:.3},{date:"5. 1.",fill:.4},{date:"6. 1.",fill:.5},{date:"7. 1.",fill:.55}]}},computed:{baterryIcon:function(){var t=this.container.baterry;return t>.5?H.a:t>.25?Y.a:Z.a},order:function(){return this.isBlocked||this.isDead||this.isOnLowBaterry?0:this.isVeryFull?1:this.isPrettyFull?2:3},cardBackgroundColor:function(){return this.isBlocked||this.isOnLowBaterry||this.isDead?"rgb(255, 165, 170);":"white"},warningMessages:function(){var t=[];return this.isBlocked&&t.push("kontejner je zablokovaný"),this.isOnLowBaterry&&t.push("kontejner potřebuje dobít baterii"),this.isDead&&t.push("kontejner neodpovídá už "+Math.round(this.container.daysSinceUpdated)+" dní"),t},isVeryFull:function(){return this.container.fill>=D.fill.veryFull},isPrettyFull:function(){return this.container.fill>=D.fill.prettyFull},isBlocked:function(){return this.container.blocked},isOnLowBaterry:function(){return this.container.baterry<D.baterry.orange},isDead:function(){return this.container.daysSinceUpdated>=D.daysToConsiderAContainerDead}},created:function(){var t=this,e=D.daysToDisplayOnContainerGraph;Xt(this.container.id,e+2).then((function(n){if(n){t.containerHistory=n;for(var A=0;A<t.containerHistory.length;A++){var r=t.containerHistory[A].difference_days;t.containerHistory[A].difference_days=(-r+e)/e}t.drawGraph()}else console.log(n)})).catch((function(t){console.log(t)}))},methods:{getWasteTypeName:function(){for(var t=0;t<this.wasteTypes.length;t++)if(this.container.type_id==this.wasteTypes[t].id)return this.wasteTypes[t].name;return"defuault waste type"},drawGraph:function(){var t,e="container_"+this.container.id,n=document.getElementById(e),A=[],r=[];this.containerHistory.forEach((function(t){A.push(t.record_datetime_formated),r.push({x:t.difference_days,y:t.fill})}));var a=null;switch(t=a,this.container.type){case"paper":t="rgba(0, 0, 255, 0.19)",t="rgba(0, 0, 255, 0.4)",a="rgba(0, 0, 255, 1)";break;case"plastic":t="rgba(255, 255, 0, 0.4)",t="rgba(255, 255, 0, 0.5)",a="rgba(255, 200, 0, 1)";break;case"glass":t="rgba(0, 255, 0, 0.21)",t="rgba(0, 255, 0, 0.4)",a="rgba(0, 200, 0, 1)";break;default:t="rgba(100, 100, 100, 0.25)",t="rgba(100, 100, 100, 0.5)",a="rgba(100, 100, 100, 0.7)";break}new h["a"](n,{type:"line",data:{datasets:[{data:r,backgroundColor:t,borderColor:a,borderWidth:3,fill:!0}],labels:A},options:{maintainAspectRatio:!1,responsive:!0,layout:{padding:{right:6}},plugins:{legend:{display:!1},tooltip:{displayColors:!1,callbacks:{title:function(t){return A[t[0].dataIndex]},label:function(t){return Math.round(100*t.raw.y)+" %"}}}},scales:{y:{display:!1,min:0,max:1,beginAtZero:!0},x:{type:"linear",display:!1,min:0,max:1,beginAtZero:!0}}}})}}},Ft=_t,Ut=(n("d0c9"),Object(o["a"])(Ft,Jt,Zt,!1,null,null,null)),Kt=Ut.exports,qt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"GoogleMap"},[t.ready&&0==t.displayPinsOnly?n("GmapMap",{attrs:{center:t.calculateMapCenter(),zoom:14,"map-type-id":"hybrid"}},t._l(t.sites,(function(t){return n("SiteInfoWindow",{key:t.key,attrs:{site:t}})})),1):t._e(),t.ready&&1==t.displayPinsOnly?n("GmapMap",{attrs:{center:t.calculateMapCenter(),zoom:14,"map-type-id":"hybrid"}},t._l(t.sites,(function(t){return n("GmapMarker",{key:t.key,attrs:{site:t,position:{lat:t.lat,lng:t.lng}}})})),1):t._e()],1)},$t=[],te=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("GmapInfoWindow",{attrs:{options:{maxWidth:300,maxHeight:300},position:{lat:t.site.lat,lng:t.site.lng}}},[n("div",{staticClass:"SiteInfoWindow",attrs:{id:"iw_"+t.site.name},on:{click:t.setCurrentSiteView}},[n("router-link",{attrs:{to:"site"}},[n("h3",[t._v(t._s(t.site.name))]),t.hasAnyWarnings?n("div",{staticClass:"warningMessageWrapper"},[n("WarningMessage",{staticStyle:{width:"10em",left:"1px"},attrs:{message:"stanoviětě hlásí problém"}})],1):t._e(),n("div",{staticClass:"containerStatusWrapper"},t._l(t.site.containers,(function(t){return n("SiteIWContainerStatus",{key:t.key,attrs:{container:t}})})),1)])],1)])},ee=[],ne=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"SiteIWContainerStatus"},[n("div",{staticClass:"barWrapper"},[n("div",{staticClass:"barFillament",style:"height:"+100*t.container.fill+"%; background-color:"+t.getFillamentColor()+";"})]),n("img",{attrs:{src:t.getProperWasteIcon(),alt:""}})])},Ae=[],re={name:"SiteIWContainerStatus",props:["container"],data:function(){return{increasing:!0,icons:{glass:P.a,paper:j.a,plastic:G.a}}},methods:{getProperWasteIcon:function(){return this.icons[this.container.type]},getFillamentColor:function(){var t=this.container.fill<.5?510*this.container.fill:255,e=this.container.fill<.5?255:255-510*(this.container.fill-.5);return"rgba("+t+", "+e+", 0, 1)"}}},ae=re,se=(n("a7fe"),Object(o["a"])(ae,ne,Ae,!1,null,"6bfec524",null)),ie=se.exports,oe={name:"SiteInfoWindow",components:{SiteIWContainerStatus:ie,WarningMessage:$},props:["site"],data:function(){return{timeToHideCloseButton:4e3,tryingToHideColseButton:!0}},computed:{hasAnyWarnings:function(){for(var t=this.site.containers,e=0;e<t.length;e++)if(t[e].blocked||t[e].baterry<D.baterry.orange||t[e].daysSinceUpdated>=D.daysToConsiderAContainerDead)return!0;return!1}},mounted:function(){var t=this;setTimeout((function(){t.tryingToHideColseButton=!1}),this.timeToHideCloseButton),setTimeout(this.tryToHideCloseIWButton,0)},methods:{setCurrentSiteView:function(){this.$store.commit("setCurrentSiteView",this.site.id)},tryToHideCloseIWButton:function(){var t=this;return Object(f["a"])(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.getElementByXpath('//div[div[div[div[@id="iw_'+t.site.name+'"][@class="SiteInfoWindow"]]]]/button').catch((function(){setTimeout(t.tryToHideCloseIWButton,0)}));case 2:n=e.sent,n&&(n.style.display="none");case 4:case"end":return e.stop()}}),e)})))()},getElementByXpath:function(t){var e=document.evaluate(t,document,null,XPathResult.UNORDERED_NODE_ITERATOR_TYPE,null).iterateNext();return new Promise((function(t,n){e?t(e):n(e)}))},idk:function(){console.log("idk")}}},ce=oe,le=(n("99ca"),Object(o["a"])(ce,te,ee,!1,null,null,null)),ue=le.exports,de={name:"GoogleMap",components:{SiteInfoWindow:ue},props:["sites","displayPinsOnly","ready"],methods:{calculateMapCenter:function(){var t=0,e=0;return this.sites.forEach((function(n){t+=n.lat,e+=n.lng})),{lat:t/this.sites.length,lng:e/this.sites.length}}}},ge=de,pe=(n("7843"),Object(o["a"])(ge,qt,$t,!1,null,null,null)),fe=pe.exports,he={name:"Site",components:{SideBar:St,ContainerCard:Kt,GoogleMap:fe},props:["sessionInfo","sites","wasteTypes"],data:function(){return{ready:!1}},computed:{site:function(){return this.sites[this.siteId]},siteId:function(){for(var t=this.$store.state.currentSiteView,e=0;e<this.sites.length;e++)if(this.sites[e].id==t)return e;return 0}},methods:{getSiteId:function(){for(var t=window.location.search,e=new URLSearchParams(t),n=parseInt(e.get("id")),A=0,r=0;r<this.sites.length;r++)this.sites[r].id==n&&(A=r);return A}},beforeCreate:function(){var t=this;return Object(f["a"])(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=!1,e.next=3,t.$store.dispatch("verifyCurrentUser").then((function(){n=!0})).catch((function(e){console.log("error: "+e),3!=e?t.$router.push("/"):t.$router.push("/error")}));case 3:if(!n){e.next=7;break}return e.next=6,t.$root.getTownData();case 6:t.ready=!0;case 7:case"end":return e.stop()}}),e)})))()}},me=he,Be=(n("d3fa"),Object(o["a"])(me,Wt,Yt,!1,null,null,null)),ve=Be.exports,Ce=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"mapPage"},[n("SideBar",{attrs:{sites:t.sites}}),t.ready?n("div",{staticClass:"pageContent"},[n("GoogleMap",{attrs:{id:"fullMap",displayPinsOnly:!1,sites:t.sites,ready:t.ready}})],1):t._e()],1)},we=[],Ee={name:"Map",components:{SideBar:St,GoogleMap:fe},props:["sites"],data:function(){return{ready:!1}},beforeCreate:function(){var t=this;return Object(f["a"])(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=!1,e.next=3,t.$store.dispatch("verifyCurrentUser").then((function(){n=!0})).catch((function(e){console.log("error: "+e),3!=e?t.$router.push("/"):t.$router.push("/error")}));case 3:if(!n){e.next=7;break}return e.next=6,t.$root.getTownData();case 6:t.ready=!0;case 7:case"end":return e.stop()}}),e)})))()}},be=Ee,ye=(n("3c61"),Object(o["a"])(be,Ce,we,!1,null,null,null)),Ie=ye.exports,Qe=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"Login"},[n("h1",[t._v("Kontejměr Jičín")]),n("form",{on:{submit:function(e){return e.preventDefault(),t.login()}}},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.username,expression:"username"}],attrs:{type:"text",placeholder:"username"},domProps:{value:t.username},on:{input:function(e){e.target.composing||(t.username=e.target.value)}}}),n("br"),n("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],attrs:{type:"password",placeholder:"password"},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}}),n("br"),n("br"),n("button",[t._v("přihlásit")])])])},De=[],ke={name:"Login",data:function(){return{username:"",password:""}},beforeCreate:function(){var t=this;return Object(f["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!localStorage.token){e.next=3;break}return e.next=3,t.$store.dispatch("verifyCurrentUser").then((function(){t.$router.push("/map")})).catch((function(){t.displayLoginErrorMessage()}));case 3:case"end":return e.stop()}}),e)})))()},mounted:function(){this.displayLoginErrorMessage()},methods:{login:function(){var t=this;return Object(f["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,B.a.post(D.backendHost+"/login",{username:t.username,password:t.password}).then((function(e){200==e.status&&(console.log("success"),t.$store.dispatch("logIn",e.data),t.$router.push("/map"))})).catch((function(t){t.response?(console.log("http status: "+t.response.status),403==t.response.status&&alert("nesprávné přihlašovací údaje")):t.request?alert("server neodpovídá"):console.log("nepodarilo se odeslat zadost o prihlaseni")}));case 2:case"end":return e.stop()}}),e)})))()},displayLoginErrorMessage:function(){var t=this.$store.state.loginErrorCode;if(0!=t)for(var e=0;e<D.loginErrorMessages.length;e++)t==D.loginErrorMessages[e].code&&alert(D.loginErrorMessages[e].message);this.$store.commit("setLoginErrorCode",0)}}},Se=ke,Me=(n("2cd1"),Object(o["a"])(Se,Qe,De,!1,null,"3f464a5f",null)),xe=Me.exports,Te=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"Error"}},[n("h1",[t._v("něco se pokazilo :(")]),n("router-link",{attrs:{to:"/map"}},[t._v("zkusit znovu")])],1)},je=[],Oe={name:"Error"},Ge=Oe,Re=Object(o["a"])(Ge,Te,je,!1,null,"89fa46fa",null),Pe=Re.exports,Ne=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"Administration"}},[n("SideBar",{attrs:{sites:t.sites}}),n("div",{staticClass:"pageContent"},[n("h1",[t._v("administrace")]),n("div",{staticClass:"card"},[n("h2",[t._v("přejmenovat stanoviště")]),t._l(t.sites,(function(e){return n("div",{key:e.id,staticClass:"siteToRename"},[n("h3",[t._v("stanoviště "+t._s(e.id)+' - "'+t._s(e.name)+'"')]),n("div",{staticClass:"rename"},[n("span",[t._v("přejmenovat na: ")]),n("input",{attrs:{id:"newName_"+e.id,type:"text",placeholder:"nepřejmenovávat"}})])])}))],2),n("button",{on:{click:t.applyChanges}},[t._v("odeslat změny")])])],1)},He=[],We={name:"Administration",props:["sites","wasteTypes"],components:{SideBar:St},methods:{applyChanges:function(){var t=this;return Object(f["a"])(regeneratorRuntime.mark((function e(){var n,A,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:n=regeneratorRuntime.mark((function e(n){var A,r,a,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(A=document.getElementById("newName_"+t.sites[n].id),r=A.value,a=t.sites[n].name,s=t.sites[n].id,""!=r){e.next=6;break}return e.abrupt("return","continue");case 6:return e.next=8,B.a.post(D.backendHost+"/renameSite",{token:t.$store.state.user.token,siteId:s,newName:r}).then((function(t){console.log(t),200==t.status&&alert("stanoviště "+a+" úspěšně přejmenováno na "+r)})).catch((function(t){t.response?(console.log("http status: "+t.response.status),403==t.response.status?alert("nejste admin, nemůžete přejmenovat stanoviště!"):500==t.response.status&&alert("někde se stala chyba, stanoviště "+a+" se nepodařilo přejmenovat")):t.request?alert("server neodpovídá"):alert("nepodařilo se odeslat žádost o přejmenování stanoviště "+a)}));case 8:case"end":return e.stop()}}),e)})),A=0;case 2:if(!(A<t.sites.length)){e.next=10;break}return e.delegateYield(n(A),"t0",4);case 4:if(r=e.t0,"continue"!==r){e.next=7;break}return e.abrupt("continue",7);case 7:A++,e.next=2;break;case 10:t.$router.go();case 11:case"end":return e.stop()}}),e)})))()}},beforeCreate:function(){var t=this;return Object(f["a"])(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=!1,e.next=3,t.$store.dispatch("verifyCurrentUser",!0).then((function(){n=!0})).catch((function(e){if(console.log("error: "+e),3!=e)if(4!=e)t.$router.push("/");else{var n;t.$router.push("/");for(var A=0;A<D.loginErrorMessages.length;A++)4==D.loginErrorMessages[A].code&&(n=D.loginErrorMessages[A].message);alert(n)}else t.$router.push("/error")}));case 3:if(!n){e.next=7;break}return e.next=6,t.$root.getTownData();case 6:t.ready=!0;case 7:case"end":return e.stop()}}),e)})))()}},Ye=We,Je=(n("17e4"),Object(o["a"])(Ye,Ne,He,!1,null,"5739c98a",null)),Ze=Je.exports;A["a"].use(d["a"]);var ze=new d["a"]({routes:[{path:"",component:xe},{path:"/stats",component:Ht},{path:"/site",component:ve},{path:"/map",component:Ie},{path:"/login",component:xe},{path:"/error",component:Pe},{path:"/admin",component:Ze}]}),Le=n("2f62");A["a"].use(Le["a"]);var Ve=function(){return{loginErrorCode:0,user:{token:null,isAdmin:!1},currentSiteView:1,selectedSite:1}},Xe=new Le["a"].Store({state:{loginErrorCode:0,user:{token:null,isAdmin:!1},currentSiteView:1,selectedSite:1},mutations:{setUser:function(t,e){t.user.token=e.token,t.user.isAdmin=e.isAdmin},setLoginErrorCode:function(t,e){t.loginErrorCode=e},setDefaultState:function(t){Object.assign(t,Ve())},setCurrentSiteView:function(t,e){console.log("before ",t.currentSiteView),t.currentSiteView=e,console.log("after ",t.currentSiteView)},setSelectedSite:function(t,e){t.selectedSite=e}},actions:{logIn:function(t,e){e.isAdmin=!!e.isAdmin,localStorage.token=e.token,localStorage.isAdmin=e.isAdmin,t.commit("setUser",e)},logOut:function(t){var e=t.state.user.token;localStorage.removeItem("token"),localStorage.removeItem("isAdmin"),t.commit("setUser",Ve().user),console.log("logging out for token "+e),B.a.post(D.backendHost+"/logout",{token:e})},verifyCurrentUser:function(t){var e=arguments;return Object(f["a"])(regeneratorRuntime.mark((function n(){var A,r,a;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(A=e.length>1&&void 0!==e[1]&&e[1],t.commit("setLoginErrorCode",0),r=t.state.user.token,a="true"==t.state.user.isAdmin,null!=r){n.next=12;break}if(!localStorage.token){n.next=11;break}r=localStorage.token,a="true"==localStorage.isAdmin,t.commit("setUser",{token:r,isAdmin:a}),n.next=12;break;case 11:return n.abrupt("return",new Promise((function(e,n){t.commit("setLoginErrorCode",1),n(1)})));case 12:return n.abrupt("return",new Promise((function(e,n){B.a.post(D.backendHost+"/verifyToken",{token:r,isAdmin:a}).then((function(t){A&&!t.data.isAdmin&&(localStorage.isAdmin=!1,n(4)),e(t.data)})).catch((function(e){console.log(e),console.log(e.response),e.response?(403==e.response.status&&t.commit("setLoginErrorCode",2),t.dispatch("logOut"),n(2)):(t.commit("setLoginErrorCode",3),n(3))}))})));case 13:case"end":return n.stop()}}),n)})))()}},modules:{}});A["a"].config.productionTip=!1,A["a"].use(u,{load:{key:"AIzaSyBnOjDji4ADhUKLyUWoyUR7ib_BFPxDia8"}}),new A["a"]({router:ze,store:Xe,data:function(){return{firstTownDataReady:!1,sites:[],wasteTypes:[]}},methods:{getTownData:function(){var t=this;return new Promise((function(e,n){var A=t.$store.state.user.token;B.a.post(D.backendHost+"/getTownData",{token:A}).then((function(n){200==n.status&&(t.sites=n.data.sites,t.wasteTypes=n.data.wasteTypes,t.firstTownDataReady=!0,e())})).catch((function(e){t.$router.push("/error"),n(e)}))}))}},render:function(t){return t(l)}}).$mount("#app")},"5da1":function(t,e,n){"use strict";n("b30d")},7538:function(t,e,n){},7843:function(t,e,n){"use strict";n("bc78")},8161:function(t,e,n){},"85ec":function(t,e,n){},8672:function(t,e,n){"use strict";n("c8fe")},"8c93":function(t,e,n){},9635:function(t,e,n){"use strict";n("327c")},9678:function(t,e,n){t.exports=n.p+"img/logout.94cdc5ac.png"},"99ca":function(t,e,n){"use strict";n("f173")},"9e26":function(t,e,n){},a5fa:function(t,e,n){},a77f:function(t){t.exports=JSON.parse('{"backendHost":"http://localhost:8080","fill":{"prettyFull":0.75,"veryFull":0.9},"baterry":{"red":0,"orange":0.35,"green":0.8},"daysToConsiderAContainerDead":3,"daysToDisplayOnContainerGraph":14,"loginErrorMessages":[{"code":1,"message":"uživatel není přihlášen"},{"code":2,"message":"platnost přihlášení vypršela"},{"code":3,"message":"server neodpovídá"},{"code":4,"message":"nejste administrátor!"}]}')},a7fe:function(t,e,n){"use strict";n("d4ae")},aa09:function(t,e,n){"use strict";n("b2b6")},b2b6:function(t,e,n){},b30d:function(t,e,n){},b5b2:function(t,e,n){},b982:function(t,e,n){},bc78:function(t,e,n){},bfbc:function(t,e,n){"use strict";n("7538")},c8fe:function(t,e,n){},cab8:function(t,e,n){t.exports=n.p+"img/waste_glass.f5eb4383.png"},d0c9:function(t,e,n){"use strict";n("9e26")},d3fa:function(t,e,n){"use strict";n("a5fa")},d4ae:function(t,e,n){},e215:function(t,e,n){"use strict";n("b982")},eae3:function(t,e,n){},f173:function(t,e,n){}});
//# sourceMappingURL=app.ce6278e8.js.map